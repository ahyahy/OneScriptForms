<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
    <TITLE>InternalBufferSize Property</TITLE>
    <META content="text/html; charset=Windows-1252" http-equiv="Content-Type">
    <LINK rel="stylesheet" type="text/css" href="mainstyle.css">
    <script defer src="mobilstyle.js"></script>
</HEAD>
<BODY id=bodyID class=dtBODY onclick="divrightClick(event)">
    <DIV id=nsbanner>
        <DIV id=bannerrow1>
            <TABLE class=bannerparthead cellSpacing=0>
                <TBODY>
                    <TR id=hdr>
                        <TD class=runninghead></TD>
                        <TD class=product></TD>
                    </TR>
                </TBODY>
            </TABLE>
        </DIV>
        <DIV id=TitleRow>
            <H1 class=dtH1>НаблюдательФайловойСистемы.РазмерВнутреннегоБуфера&nbsp;(FileSystemWatcher.InternalBufferSize)&nbsp;Свойство</H1>
        </DIV>
    </DIV>
    <DIV id=nstext>
        <H4 class=dtH4>Использование</H4>
        <P>Чтение и запись.</P>
        <H4 class=dtH4>Значение</H4>
        <P>Тип: Число.</P>
        <P>Возвращает или задает размер (в байтах) внутреннего буфера.</P>
        <P>Размер внутреннего буфера. Значение по умолчанию: 8192 (8K).</P>
        <H4 class=dtH4>Примечание</H4>
        <P>
            Буфер может быть установлен сколько угодно выше 4096 (4K),
            но для лучшей производительности он должен быть кратен 4K для компьютеров на базе Intel.
        </P>
        <P>
            Система уведомляет компонент об изменениях файлов и сохраняет их
            изменения в буфере, созданном компонентом и передает API-интерфейсам. Каждое событие может
            использовать до 16 байт памяти, не включая имя файла. Если происходит много
            изменений в короткий срок, буфер может переполниться. Это приводит к тому, что компонент теряет отслеживание изменений в каталоге,
            и он будет предоставлять только общее уведомление.
        </P>
        <P>
            Увеличение размера буфера может предотвратить пропущенные события изменения файловой системы. Обратите внимание, что экземпляр класса
            <B>НаблюдательФайловойСистемы&nbsp;(FileSystemWatcher)</B> не вызывает событие ошибки при пропуске события или при превышении размера буфера из-за
            зависимостей с операционной системой Windows.
        </P>
        <P>
            Увеличение размера буфера дорого, так как он поступает из нестраничной памяти, которая не может быть
            заменена на диск, поэтому держите буфер как можно меньшего размера. Чтобы избежать переполнения буфера, используйте свойства
            <B>ФильтрУведомлений&nbsp;(NotifyFilter)</B> и <B>ВключаяПодкаталоги&nbsp;(IncludeSubDirectories)</B> для фильтрации нежелательных уведомлений об изменениях.
        </P>
        <H4 class=dtH4>Пример</H4>
        <P>
            <PRE class=code>
НаблюдательФайловойСистемы1.РазмерВнутреннегоБуфера = 16384;
</PRE>
            <details>
                <summary>Полный пример кода</summary>
                <P>
                    <PRE class=code>
<button id="copy1" type="button" style="font-size:100%;">Копировать</button>
<hr style="border-color: lightgray;"><DIV id="cont1">
ПодключитьВнешнююКомпоненту("C:\444\111\OneScriptForms\OneScriptForms\bin\Debug\OneScriptForms.dll");
Ф = Новый ФормыДляОдноСкрипта();
Форма1 = Ф.Форма();
Форма1.Отображать = Истина;
Форма1.Показать();
Форма1.Активизировать();

НаблюдательФайловойСистемы1 = Ф.НаблюдательФайловойСистемы();
НаблюдательФайловойСистемы1.Путь = Ф.Окружение().ПолучитьПутьКаталога(Ф.ОсобаяПапка.Личное);
НаблюдательФайловойСистемы1.КомпонентДоступен = Истина;
НаблюдательФайловойСистемы1.РазмерВнутреннегоБуфера = 16384;
	
Ф.ЗапуститьОбработкуСобытий();
</DIV>
</PRE>
            </details>
        <P></P>
        <details>
            <summary>Тестовый код</summary>
            <P>
                <PRE class=code>
<button id="copy2" type="button" style="font-size:100%;">Копировать</button>
<hr style="border-color: lightgray;"><DIV id="cont2">
ПодключитьВнешнююКомпоненту("C:\444\111\OneScriptForms\OneScriptForms\bin\Debug\OneScriptForms.dll");
Ф = Новый ФормыДляОдноСкрипта();
Форма1 = Ф.Форма();
Форма1.Отображать = Истина;
Форма1.Показать();
Форма1.Активизировать();

НаблюдательФайловойСистемы1 = Ф.НаблюдательФайловойСистемы();
НаблюдательФайловойСистемы1.Путь = Ф.Окружение().ПолучитьПутьКаталога(Ф.ОсобаяПапка.Личное);
НаблюдательФайловойСистемы1.КомпонентДоступен = Истина;
НаблюдательФайловойСистемы1.РазмерВнутреннегоБуфера = 16384;

Сообщить(?(НаблюдательФайловойСистемы1.РазмерВнутреннегоБуфера = 16384, "", "!!! ") + "НаблюдательФайловойСистемы.РазмерВнутреннегоБуфера (FileSystemWatcher.InternalBufferSize) Свойство" + " " + ТекущаяДата());
</DIV>
</PRE>
        </details>
        <P></P>
        <H4 class=dtH4>Смотрите также</H4>
        <P>
            <A href="OneScriptForms.FileSystemWatcher.html">НаблюдательФайловойСистемы&nbsp;(FileSystemWatcher)&nbsp;Класс</A> | <A href="OneScriptForms.html">Библиотека&nbsp;OneScriptForms</A>
        </P>
    </DIV>
</BODY>
</HTML>
